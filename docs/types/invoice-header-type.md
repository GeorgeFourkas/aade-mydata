# Τύπος InvoiceHeader

Ο τύπος `InvoiceHeader` περιγράφει τα στοιχεία της επικεφαλίδας του τιμολογίου.

## Το αντικείμενο αυτό περιέχει τα εξής πεδία:

| Πεδίο                                                                | Υποχρεωτικό | Περιγραφή                                     |
|----------------------------------------------------------------------|-------------|-----------------------------------------------|
| series                                                               | **Ναι**     | Σειρά παραστατικού                            |
| aa                                                                   | **Ναι**     | ΑΑ Παραστατικού                               |
| issueDate                                                            | **Ναι**     | Ημ. Έκδοσης Παραστατικού (yyyy-mm-dd)         |
| [**invoiceType**](../appendix/invoice-types)                         | **Ναι**     | Είδος Παραστατικού                            |
| vatPaymentSuspension                                                 | Όχι         | Αναστολή Καταβολής ΦΠΑ                        |
| currency                                                             | Όχι         | Νόμισμα                                       |
| exchangeRate                                                         | Όχι         | Ισοτιμία (ελάχιστη τιμή 0, δεκαδικά 5)        |
| correlatedInvoices[]                                                 | Όχι         | Συσχετιζόμενα Παραστατικά                     |
| selfPricing                                                          | Όχι         | Ένδειξη Αυτοτιμολόγησης (bool)                |
| dispatchDate                                                         | Όχι         | Ημερομηνία Έναρξης Αποστολή (yyyy-mm-dd)      |
| dispatchTime                                                         | Όχι         | Ώρα Έναρξης Αποστολής                         |
| vehicleNumber                                                        | Όχι         | Αριθμός Μεταφορικού Μέσου                     |
| [**movePurpose**](../appendix/move-purpose)                          | Όχι         | Σκοπός Διακίνησης                             |
| fuelInvoice                                                          | Όχι         | Ένδειξη παραστατικού καυσίμων (bool)          |
| [**specialInvoiceCategory**](../appendix/special-invoice-categories) | Όχι         | Ειδική Κατηγορία Παραστατικού                 |
| [**invoiceVariationType**](../appendix/invoice-variation-types)      | Όχι         | Τύπος Απόκλισης (Διαφοροποίησης) Παραστατικού |
| [**otherCorrelatedEntities[]**](entity-type)                         | Όχι         | Λοιπές συσχετιζόμενες οντότητες               |
| [**otherDeliveryNoteHeader**](other-delivery-note-header-type)       | Όχι         | Λοιπά Γενικά Στοιχεία Διακίνησης              |
| isDeliveryNote                                                       | Όχι         | Ένδειξη παραστατικού διακίνησης (bool)        |
| otherMovePurposeTitle                                                | Όχι         | Τίτλος της Λοιπής Αιτίας Διακίνησης           |
| thirdPartyCollection                                                 | Όχι         | Ένδειξη είσπραξης τρίτων                      |

## Παρατηρήσεις

- To πεδίο `exchangeRate` είναι η ισοτιμία του νομίσματος σε σχέση με το ευρώ.
  Πρέπει να συμπληρώνεται μόνο όταν το νόμισμα δεν έχει τιμή EUR.
- Ο κωδικός νομισμάτων προέρχεται από την αντίστοιχη λίστα σύμφωνα με το
  πρότυπο `ISO4217`.
- Το στοιχείο `correlatedInvoices` είναι λίστα και περιέχει τα ΜΑΡΚ των
  συσχετιζόμενων παραστατικών.
- Σε περίπτωση μή έκδοσης σειράς παραστατικού, το πεδίο `series` πρέπει να έχει την
  τιμή `0`.
- Το πεδίο `selfPricing` ορίζει αν πρόκειται για Τιμολόγιο Αυτοτιμολόγησης.
- Το πεδίο `fuelInvoice` ορίζει αν πρόκειται για παραστατικό πώλησης υγρών
  καυσίμων και επιτρέπεται η αποστολή μόνο για την περίπτωση των παρόχων.
- Οι πιθανές τιμές του πεδίου `invoiceVariationType` περιγράφονται αναλυτικά στον
  [**αντίστοιχο πίνακα**](../appendix/invoice-variation-types) του Παραρτήματος. Λεπτομέρειες σχετικά με τον τρόπο
  χρήσης τους από επιχειρησιακής σκοπιάς περιγράφονται στο σχετικό επιχειρησιακό
  έγγραφο.
- Το πεδίο `otherCorrelatedEntities` (Λοιπές συσχετιζόμενες οντότητες) είναι λίστα
  τύπου [**EntityType**](entity-type).
- Το πεδίο `isDeliveryNote` ορίζει αν πρόκειται για τιμολόγιο που είναι και δελτίο
  αποστολής (π.χ το παραστατικό τύπου `1.1` - Τιμολόγιο Πώλησης, εφόσον φέρει την
  ένδειξη `isDeliveryNote = true`, τότε είναι και δελτίο διακίνησης και θα πρέπει να
  αποσταλούν και επιπλέον στοιχεία διακίνησης).
- Το πεδίο `otherMovePurposeTitle` συμπληρώνεται όταν έχει επιλεγεί ως
  `movePurpose = 19` (Λοιπές Διακινήσεις) και ορίζει τον τίτλο της άλλης διακίνησης.
- Το πεδίο `thirdPartyCollection` ορίζει αν η επιχείρηση που κάνει χρήση Μέσων
  Πληρωμών ως Χρήστης υπηρεσιών πληρωμών και εισπράττει για λογαριασμό
  τρίτων (περίπτωση παραστατικού 8.4 - Απόδειξη Είσπραξης POS) ή αν επιστρέφει
  ποσά συναλλαγής για λογαριασμό τρίτων (περίπτωση παραστατικού `8.5` - Απόδειξη
  Επιστροφής POS).

## Απλό παράδειγμα δόμησης τύπου `InvoiceHeader`

```php
use Firebed\AadeMyData\Models\InvoiceHeader;
use Firebed\AadeMyData\Enums\InvoiceType;

$invoiceHeader = new InvoiceHeader();

// Σειρά παραστατικού, Σε περίπτωση μή έκδοσης σειράς παραστατικού,
// το πεδίο series πρέπει να έχει την τιμή 0
$invoiceHeader->setSeries('0');

// ΑΑ Παραστατικού, μέγιστο επιτρεπτό μήκος 50
$invoiceHeader->setAa('1');

// Ημερομηνία Έκδοσης Παραστατικού
$invoiceHeader->setIssueDate('2024-02-03');

// Είδος Παραστατικού Τιμολόγιο Πώλησης
$invoiceHeader->setInvoiceType(InvoiceType::TYPE_1_1);

// Νόμισμα
$invoiceHeader->setCurrency('EUR'); 
```